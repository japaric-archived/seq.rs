language: rust

env:
  global:
    - secure: d4aSwXHiBOU36dWmp7aWPeFlxrAUtfVxE6vdanM0fVA2o9Z3qZfbpGkwHl6NgKOgmKhrCaM1Ho9IK3YbZe31vhb7R/le0KNt08KoPSd+cXMhNN6BHAkpSyN5WUxKZ2+wous0aIp8IH/NeWsiINlPuqKLVPqEV2yRKIPjgGkFf6Y=

script:
  - cargo build --verbose
  - cargo test --verbose
  - cargo doc --verbose && mv target/doc doc

after_script:
  - '[ "${TRAVIS_PULL_REQUEST}" = "false" ] && curl http://www.rust-ci.org/artifacts/put?t=$RUSTCI_TOKEN | sh'

branches:
  only: master
